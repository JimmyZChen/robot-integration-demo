{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u673a\u5668\u4eba\u8c03\u5ea6\u7cfb\u7edf\u6587\u6863","text":"<p>\u9762\u5411\u591a\u5382\u5546\u673a\u5668\u4eba\u7684\u7edf\u4e00\u7f51\u5173\uff0c\u5177\u5907\u5f02\u6b65\u7f16\u6392\u4e0e\u53ef\u89c2\u6d4b\u6027\u3002</p> <p>\u4e00\u53e5\u8bdd / One-liner \u7edf\u4e00\u63a5\u5165\u591a\u5382\u5546 OpenAPI\uff0c\u524d\u7f6e\u6cbb\u7406\uff08\u9274\u6743/\u5ba1\u8ba1/\u9650\u6d41\uff09\uff0c\u5f02\u6b65\u6297\u6d2a\u5cf0\uff08MQ\uff09\u3001\u53ef\u89c2\u6d4b\uff08Trace/\u6307\u6807\uff09\uff0c\u4e0e\u4e00\u952e\u4ea4\u4ed8\uff08Docker Compose\uff09\u3002</p> <p>\u7acb\u5373\u4e0a\u624b \u27f6 \u67b6\u6784\u6982\u89c8 \u27f6 Live Demo \u6307\u5357 \u27f6</p>"},{"location":"#_2","title":"\u89e3\u51b3\u4ec0\u4e48\u95ee\u9898\u5feb\u901f\u5165\u53e3","text":"<ul> <li> \u591a\u5382\u5546\u805a\u5408\uff1a\u5f02\u6784 OpenAPI \u7edf\u4e00\u5165\u53e3\u4e0e\u534f\u8bae\u7ea6\u675f  </li> <li> \u524d\u7f6e\u6cbb\u7406\uff1a\u7f51\u5173\u9274\u6743\u3001\u5ba1\u8ba1\u3001\u9650\u6d41\u3001\u7070\u5ea6  </li> <li> \u5f02\u6b65\u89e3\u8026\uff1aRabbitMQ\uff08Topic\u2192Queue\u2192DLQ\uff09\u3001\u624b\u52a8 ack\u3001\u5e42\u7b49\u6821\u9a8c  </li> <li> \u53ef\u89c2\u6d4b\u6027\uff1aSkyWalking \u7aef\u5230\u7aef Trace / \u6307\u6807 / \u62d3\u6251  </li> <li> \u4e00\u952e\u4ea4\u4ed8\uff1aDocker Compose \u591a\u73af\u5883\u53c2\u6570\u5316</li> </ul> <p>\u8be6\u7ec6\u7684 What / Why / \u6f14\u8fdb\u8def\u5f84 \u8bf7\u79fb\u6b65\uff1a \u6982\u89c8\uff08Overview\uff09</p> \u6982\u89c8 Overview Why\u3001\u67b6\u6784\u3001\u6f14\u8fdb\u4e0e\u7a33\u5b9a\u6027\u6cbb\u7406 \u8fd0\u884c\u6548\u679c Live Demo PPT 10\u201318 \u9875\u622a\u56fe\u4e0e\u5907\u6ce8 \u5f02\u6b65\u5316\uff08RabbitMQ\uff09 \u67b6\u6784\u3001\u53c2\u6570\u3001\u6d88\u8d39\u4e0e\u9519\u8bef\u5904\u7406\u3001\u8054\u8c03\u7ed3\u679c \u53ef\u89c2\u6d4b\u6027\uff08SkyWalking\uff09 \u670d\u52a1/\u7aef\u70b9\u603b\u89c8\u3001\u62d3\u6251\u3001Trace\u3001\u770b\u677f \u7a33\u5b9a\u6027\uff08Sentinel\uff09 \u6d41\u63a7/\u964d\u7ea7\u89c4\u5219\u3001\u89e6\u53d1\u65e5\u5fd7\u4e0e\u4ee3\u7801\u793a\u4f8b \u914d\u7f6e\u4e2d\u5fc3\uff08Nacos\uff09 \u591a\u73af\u5883\u914d\u7f6e\u4e0e\u89c4\u5219\u6258\u7ba1\uff08\u96c6\u4e2d\u4e0b\u53d1/\u70ed\u66f4\u65b0\uff09 \u5bb9\u5668\u5316\u90e8\u7f72 \u8fd0\u884c\u6001\u603b\u89c8\u4e0e Compose \u76ee\u5f55/\u914d\u7f6e\u7247\u6bb5 \u538b\u6d4b\u4e0e\u8bc1\u636e\uff08JMeter\uff09 \u8ba1\u5212\u3001\u7ed3\u679c\u3001MQ \u4fa7\u9a8c\u8bc1\u4e0e\u670d\u52a1\u6307\u6807 \u95ee\u9898\u2014\u539f\u56e0\u2014\u4fee\u590d\uff08RCA\uff09 Gateway/Nacos/Sentinel\u3001\u89c2\u6d4b\u4e0e\u4ee3\u7801\u4fa7\u5e38\u89c1\u95ee\u9898 <p>\u6570\u636e\u4e0e\u63a5\u53e3\u8bf4\u660e \u00b7 Data &amp; API Notice</p> <ul> <li>\u6f14\u793a\u6570\u636e\u4e3a\u8131\u654f/\u6a21\u62df\uff0c\u4e0d\u4f1a\u89e6\u8fbe\u771f\u5b9e\u8bbe\u5907\u3002  </li> <li>\u7f51\u5173\u652f\u6301 <code>X-Dry-Run: true</code> \u5b89\u5168\u5f00\u5173\uff1b\u654f\u611f Token/\u5730\u56fe\u540d\u5df2\u505a\u906e\u7f69\u3002  </li> <li>\u4ed3\u5e93\u4e3a\u7ed3\u6784\u4e0e\u5b9e\u8df5\u6f14\u793a\uff0c\u9ed8\u8ba4\u4e0d\u53ef\u76f4\u8fde\u751f\u4ea7\u3002</li> </ul>"},{"location":"#_3","title":"\u4ed3\u5e93\u4e0e\u7248\u672c","text":"<p>GitHub \u00b7 Gitee Doc version: v0.1 \u00b7 Last updated: 2025/09/20</p>"},{"location":"#author","title":"\u4f5c\u8005 Author","text":"<ul> <li> <p> \u9648\u5ce5 (Jimmy Chen)</p> <p> Java\u540e\u7aef\u5f00\u53d1\u5de5\u7a0b\u5e08  \u4e2d\u56fd\uff0c\u6df1\u5733 </p> </li> </ul>"},{"location":"SLO/","title":"Service Level Objectives (SLO) \u00b7 \u670d\u52a1\u7b49\u7ea7\u76ee\u6807","text":"<p>Scope \u8303\u56f4\uff1aGateway\uff08Spring Cloud Gateway\uff09+ Robot Service\u3002 Window \u7edf\u8ba1\u7a97\u53e3\uff1a28 \u5929\uff08\u6708\u5ea6\uff09\u3002 Success \u53e3\u5f84\uff1aHTTP \u975e 5xx \u4e14\u4e1a\u52a1 <code>code==0</code> \u8ba1\u6210\u529f\uff1b\u7b56\u7565\u6027 429\uff08\u9650\u6d41\uff09\u4e0d\u8ba1\u5931\u8d25\uff0c\u5355\u72ec\u8ddf\u8e2a\u5176\u6bd4\u4f8b\u7528\u4e8e\u5bb9\u91cf\u4e0e\u9608\u503c\u6821\u51c6\u3002 Latency \u5ef6\u8fdf\uff1a\u9ed8\u8ba4\u4ee5 Gateway \u5165\u7ad9\u2192\u54cd\u5e94\u53d1\u51fa \u7684\u65f6\u957f\u7edf\u8ba1\u3002</p>"},{"location":"SLO/#slo","title":"\ud83d\udcc8 SLO\uff08\u4e2d\u6587\uff09","text":""},{"location":"SLO/#1","title":"1) \u6307\u6807\u8868","text":"\u7528\u6237\u65c5\u7a0b / \u63a5\u53e3 SLI \u76ee\u6807\u503c \u8bf4\u660e \u673a\u5668\u4eba\u72b6\u6001\u67e5\u8be2 <code>GET /external/gs/status/**</code> \u6210\u529f\u7387 \u2265 99.9% \u6708\u5ea6\u8fbe\u6807 \u7f51\u5173\u9650\u6d41\u5728\u524d\uff1b\u5355\u5b9e\u4f8b\u7a33\u5b9a QPS \u00d7 0.7 \u9884\u7559\u5197\u4f59 P95 &lt; 300ms\uff08P99 &lt; 800ms\uff09 \u6708\u5ea6\u8fbe\u6807 \u5ba2\u6237\u7aef\u901a\u5e38 1\u20132 \u6b21\u9000\u907f\u91cd\u8bd5 \u5730\u56fe\u5217\u8868 <code>GET /maps/list/**</code> \u6210\u529f\u7387 \u2265 99.9% \u6708\u5ea6\u8fbe\u6807 \u7a33\u5b9a\u8bfb\uff1b\u7f13\u5b58/\u591a\u526f\u672c P95 &lt; 400ms \u6708\u5ea6\u8fbe\u6807 \u63a5\u53e3\u57fa\u7ebf \u4e0b\u53d1\u4efb\u52a1\uff08\u5f02\u6b65\u53d7\u7406\uff09<code>POST /external/gs/task/**</code> \u53d7\u7406\u6210\u529f\u7387 \u2265 99.5% \u6708\u5ea6\u8fbe\u6807\uff08\u22483.6h \u9884\u7b97\uff09 \u5165\u5e93+\u5165\u961f\u6210\u529f\u8ba1\u4e3a\u201c\u53d7\u7406\u6210\u529f\u201d\uff1b\u5e42\u7b49\u952e <code>taskId</code> \u53d7\u7406 P95 &lt; 1s \u6708\u5ea6\u8fbe\u6807 \u540c\u6b65\u8fd4\u56de\u201c\u5df2\u53d7\u7406\u201d\uff1b\u6267\u884c ACK \u4e0d\u7eb3\u5165\u672c SLO WebSocket \u72b6\u6001\u63a8\u9001 \u65ad\u7ebf\u540e\u6062\u590d\uff1a99% &lt; 3s \u6708\u5ea6\u8fbe\u6807 \u81ea\u52a8\u91cd\u8fde\uff1b<code>stale</code> \u89e6\u53d1\u544a\u8b66"},{"location":"SLO/#2-sli","title":"2) SLI \u7edf\u8ba1\u53e3\u5f84","text":"<ul> <li>\u6210\u529f\u7387 = (\u603b\u8bf7\u6c42 \u2212 HTTP 5xx \u2212 \u4e1a\u52a1\u5931\u8d25\u7801) \u00f7 \u603b\u8bf7\u6c42\uff1b\u4e1a\u52a1\u5931\u8d25\u7801\u4ee5\u7edf\u4e00 <code>code</code> \u5b57\u6bb5\u4e3a\u51c6\u3002  </li> <li>\u5ef6\u8fdf\uff1a\u7edf\u8ba1 P50 / P95 / P99\uff08Gateway \u5165\u7ad9\u2192\u51fa\u7ad9\uff09\uff1b\u5fc5\u8981\u65f6\u8865\u5145\u670d\u52a1\u5185\u5b50\u8de8\u5ea6\u3002  </li> <li>\u53d7\u7406\u6210\u529f\u7387\uff08\u5f02\u6b65\uff09\uff1aHTTP 202/200 \u4e14\u5165\u5e93+\u5165\u961f\u6210\u529f\u624d\u8ba1\u6210\u529f\uff08\u9700\u670d\u52a1\u5185\u57cb\u70b9\uff09\u3002  </li> <li>WebSocket \u6062\u590d\uff1a\u4ece\u65ad\u5f00\u5230\u91cd\u65b0\u6536\u6d41\uff08\u5fc3\u8df3/\u8ba2\u9605\u786e\u8ba4\uff09\u7684\u65f6\u957f\u5206\u5e03\u3002</li> </ul>"},{"location":"SLO/#3-sentinel","title":"3) \u4fdd\u62a4\u9608\u503c\uff08\u4e0e Sentinel \u89c4\u5219\u5bf9\u9f50\uff09","text":"<ul> <li>\u6162\u8c03\u7528\u9608\u503c <code>\u03c4 = min(1000ms, 1.2 \u00d7 \u5f53\u524d\u57fa\u7ebf P95)</code> </li> <li>\u7edf\u8ba1\u7a97\u53e3 10s\uff1b\u6700\u5c0f\u6837\u672c\u6570 \u2265 20\uff1b\u6162\u8c03\u5360\u6bd4 \u2265 50% \u2192 \u6253\u5f00\u7194\u65ad  </li> <li>Open 30s\uff1bHalf-Open \u63a2\u6d4b 5\u201310 \u8bf7\u6c42  </li> <li>\u5165\u53e3\u9650\u6d41\uff1a\u4f18\u5148\u5728 Gateway \u5bf9 <code>/external/gs/**</code> \u505a API \u7ec4\u9650\u6d41\uff08\u547d\u4e2d\u7edf\u4e00 429\uff09</li> </ul>"},{"location":"SLO/#4-slo","title":"4) \u544a\u8b66\u4e0e\u5904\u7f6e\uff08\u628a SLO \u53d8\u6210\u64cd\u4f5c\uff09","text":"<ul> <li>\u9519\u8bef\u9884\u7b97\uff1a\u76ee\u6807 99.9% \u21d2 \u6708\u5ea6\u9884\u7b97 0.1%  </li> <li>\u71c3\u5c3d\u544a\u8b66\uff08\u4efb\u4e00\u6ee1\u8db3\u5373\u544a\u8b66\uff09\uff1a  </li> <li>1 \u5c0f\u65f6\u6d88\u8017 &gt; 10% \u9884\u7b97 \u21d2 P1\uff0c\u81ea\u52a8\u5207 \u964d\u7ea7/\u9650\u6d41\u56de\u9000\u7ec4 </li> <li>6 \u5c0f\u65f6\u6d88\u8017 &gt; 20% \u9884\u7b97 \u21d2 P1 \u5347\u7ea7\uff0c\u7070\u5ea6\u56de\u6eda\u6216\u6458\u9664\u4e0d\u5065\u5eb7\u5b9e\u4f8b </li> <li>\u53d1\u5e03\u7ba1\u63a7\uff1a\u53d1\u5e03\u540e 15 \u5206\u949f\u5185\u82e5 P95/P99 \u6076\u5316\u4e14\u9519\u8bef\u7387\u8d85\u9608 \u21d2 \u6682\u505c\u7070\u5ea6/\u56de\u6eda  </li> <li>\u6d41\u91cf\u6cbb\u7406\uff1aGateway \u9650\u6d41\u914d\u989d\u6309 5%\u219230%\u219250%\u2192100% \u68af\u5ea6\u653e\u5927\uff1b\u6301\u7eed\u6076\u5316\u65f6\u5206\u7ea7\u7194\u65ad\u5e76\u63d0\u4f9b\u7a33\u5b9a\u515c\u5e95</li> </ul>"},{"location":"SLO/#5","title":"5) \u89c2\u6d4b\u4e0e\u6570\u636e\u6765\u6e90","text":"<ul> <li>SkyWalking\uff1aTrace/\u6307\u6807\uff08\u8bf7\u6c42\u6570\u3001\u9519\u8bef\u3001\u5206\u4f4d\u5ef6\u8fdf\uff09  </li> <li>\u7edf\u4e00\u65e5\u5fd7\uff1a\u6309 <code>traceId</code> \u4e32\u8054\uff0c\u7ed3\u6784\u5316\u8bb0\u5f55 429/503/\u8d85\u65f6\u5b57\u6bb5  </li> <li>Nacos\uff1a<code>*-gw-api-defs</code> / <code>*-gw-flow-rules</code> \u5206\u7ec4\uff0c\u652f\u6301\u7070\u5ea6\u4e0e\u4e00\u952e\u56de\u6eda</li> </ul>"},{"location":"SLO/#6","title":"6) \u4f8b\u5916","text":"<ul> <li>\u5f02\u6b65\u4efb\u52a1\u7684\u6267\u884c\u7ed3\u679c\u4e0d\u8ba1\u5165\u201c\u53d7\u7406\u6210\u529f\u7387\u201d\uff0c\u53e6\u7acb\u201c\u4efb\u52a1\u6267\u884c SLA\u201d  </li> <li>\u7f51\u5916\u7f51\u7edc\u95ee\u9898\u5728\u7edf\u8ba1\u4e2d\u6807\u6ce8\u201c\u5916\u90e8\u539f\u56e0\u201d\u7ef4\u5ea6\u7528\u4e8e\u590d\u76d8\uff0c\u4e0d\u4ece\u5de5\u7a0b\u4fa7\u5f3a\u884c\u5254\u9664</li> </ul>"},{"location":"SLO/#service-level-objectives-slo_1","title":"Service Level Objectives (SLO)","text":"<p>Scope: Spring Cloud Gateway + Robot Service. Window: 28 days (monthly). Success definition: Count as success when the HTTP status is not 5xx and the business <code>code==0</code>; intentional 429 (rate limiting) is not counted as a failure and is tracked separately for capacity and threshold tuning. Latency: by default, measure the duration from Gateway ingress \u2192 response sent.</p>"},{"location":"SLO/#slo-english","title":"\ud83d\udcc8 SLO (English)","text":""},{"location":"SLO/#1-slo-table","title":"1) SLO Table","text":"Journey / API SLI Target Notes Status query <code>GET /external/gs/status/**</code> Success \u2265 99.9% Monthly Gateway rate-limit first; single-instance stable QPS \u00d7 0.7 headroom P95 &lt; 300ms (P99 &lt; 800ms) Monthly Client typically retries with backoff 1\u20132 times Map list <code>GET /maps/list/**</code> Success \u2265 99.9% Monthly Read-heavy; cache/replica P95 &lt; 400ms Monthly API baseline Task dispatch (async acceptance) <code>POST /external/gs/task/**</code> Acceptance success \u2265 99.5% Monthly (~3.6h budget) Count success only if persisted + enqueued; idempotency key <code>taskId</code> Acceptance P95 &lt; 1s Monthly Synchronous \u201caccepted\u201d only; execution ACK not in this SLO WebSocket updates Reconnect 99% &lt; 3s Monthly Auto-reconnect; <code>stale</code> triggers alert"},{"location":"SLO/#2-sli-definitions","title":"2) SLI Definitions","text":"<ul> <li>Success rate = (requests \u2212 HTTP 5xx \u2212 business failures) \u00f7 requests; business failure per unified <code>code</code>.  </li> <li>Latency: P50/P95/P99 from gateway ingress to response; add service spans if needed.  </li> <li>Async acceptance: HTTP 202/200 and persisted+enqueued = success (requires app metric).  </li> <li>WebSocket recovery: disconnect to \u201creceiving again\u201d (heartbeat/subscription ack).</li> </ul>"},{"location":"SLO/#3-protection-thresholds-aligned-with-sentinel","title":"3) Protection thresholds (aligned with Sentinel)","text":"<ul> <li>Slow-call threshold <code>\u03c4 = min(1000ms, 1.2 \u00d7 current baseline P95)</code> </li> <li>Window 10s; minimum samples \u2265 20; slow-call ratio \u2265 50% \u2192 open circuit  </li> <li>Open 30s; Half-open probes 5\u201310  </li> <li>Ingress rate-limit on <code>/external/gs/**</code> at Gateway (returns 429)</li> </ul>"},{"location":"SLO/#4-alerting-actions","title":"4) Alerting &amp; Actions","text":"<ul> <li>Error budget: 99.9% target \u21d2 0.1% monthly  </li> <li>Burn rate alerts (either condition): 1h &gt; 10% budget \u21d2 P1 (auto degrade/limit); 6h &gt; 20% \u21d2 P1 escalate (rollback / remove unhealthy instance)  </li> <li>Release guard: within 15min after release, if P95/P99 worsens and error &gt; threshold \u21d2 pause/rollback  </li> <li>Traffic control: ramp Gateway quotas 5%\u219230%\u219250%\u2192100%; if worse, staged circuit with stable fallback</li> </ul>"},{"location":"SLO/#5-observability-sources","title":"5) Observability &amp; Sources","text":"<p>SkyWalking traces/metrics; structured logs with <code>traceId</code> + 429/503/timeout fields; Nacos groups for rules with gray &amp; rollback.</p>"},{"location":"SLO/#6-exceptions","title":"6) Exceptions","text":"<p>Execution SLA of long-running async tasks is out of scope here; external-network incidents are labeled for review, not forcibly excluded.</p>"},{"location":"config-nacos/","title":"\u914d\u7f6e\u4e2d\u5fc3\uff08Nacos Configuration Center\uff09","text":"<p>\u7edf\u4e00\u6ce8\u518c/\u914d\u7f6e\uff1b\u591a\u73af\u5883\u5206\u7ec4\uff1b\u654f\u611f\u53c2\u6570\u96c6\u4e2d\u7ba1\u7406\uff08\u70ed\u66f4\u65b0\uff09</p> <p></p> <p>\u8bf4\u660e - \u4e1a\u52a1\u4e0e\u7f51\u5173\u914d\u7f6e\u96c6\u4e2d\u7ba1\u7406\uff08\u5982 <code>application-*.yml</code>\u3001<code>ruoyi-*-dev.yml</code>\uff09\uff0c\u6309 Group/Namespace \u5206\u73af\u5883\u3002 - Sentinel \u89c4\u5219\uff08Flow/Degrade \u7b49\uff09\u901a\u8fc7 Nacos \u4e0b\u53d1\uff0c\u8d44\u6e90\u540d\u4e0e\u4ee3\u7801\u4e00\u81f4\uff0c\u652f\u6301\u70ed\u66f4\u65b0\u4e0e\u56de\u6eda\u3002</p>"},{"location":"docker-deploy/","title":"\u5bb9\u5668\u5316\u90e8\u7f72\uff08Dockerized Deployment\uff09","text":"<p>\u76ee\u6807\uff1a\u4e00\u952e\u62c9\u8d77/\u505c\u6b62\uff1b\u7edf\u4e00\u7f51\u7edc\u4e0e\u914d\u7f6e\uff1b\u672c\u5730\u5373\u53ef\u590d\u73b0\u201c\u7f51\u5173 + \u4e1a\u52a1 + \u4e2d\u95f4\u4ef6\u201d\u7684\u5b8c\u6574\u8fd0\u884c\u6001\u3002</p>"},{"location":"docker-deploy/#1","title":"1.\u5bb9\u5668\u8fd0\u884c\u6001\u603b\u89c8","text":"<ul> <li>\u8fd0\u884c\u72b6\u6001\uff1aCPU/\u5185\u5b58\u5360\u7528\u3001\u5bb9\u5668\u5065\u5eb7\u5ea6\u3001\u7aef\u53e3\u6620\u5c04\u4e00\u76ee\u4e86\u7136\u3002  </li> <li>\u670d\u52a1\u6e05\u5355\uff1a<code>mysql</code>\u3001<code>redis</code>\u3001<code>nacos</code>\u3001<code>ruoyi-gateway</code>\u3001<code>ruoyi-system</code>\u3001<code>ruoyi-robot</code> \u2026  </li> <li>\u64cd\u4f5c\uff1a\u652f\u6301\u5355\u4e2a/\u6279\u91cf Start/Stop/Restart\uff0c\u4fbf\u4e8e\u8054\u8c03\u4e0e\u6f14\u793a\u3002</li> </ul>"},{"location":"docker-deploy/#2-compose","title":"2.\u76ee\u5f55\u7ed3\u6784\u4e0e Compose","text":"<p>\u76ee\u5f55\u7ed3\u6784\uff08\u793a\u4f8b\uff09 - <code>docker-compose.micro.yml</code>\uff1a\u4e00\u952e\u62c9\u8d77\u7f51\u5173/\u4e1a\u52a1/\u4e2d\u95f4\u4ef6 - <code>nacos_*</code>\u3001<code>mysql_*</code>\u3001<code>redis_data/</code>\uff1a\u6301\u4e45\u5316\u4e0e\u521d\u59cb\u5316\u811a\u672c - <code>SkyWalking/</code>\uff1a\u53ef\u89c2\u6d4b\u6027\uff08\u53ef\u9009\uff09 - <code>01-common.yaml</code>\uff1a\u516c\u5171\u73af\u5883\u53d8\u91cf\uff08\u7aef\u53e3\u3001\u6570\u636e\u5e93\u5bc6\u7801\u7b49\uff09</p> <p>Compose \u5173\u952e\u70b9\uff08\u7ea6\u5b9a\u7edf\u4e00\u3001\u53ef\u590d\u5236\uff09 - \u7edf\u4e00\u7f51\u7edc\uff1a<code>networks: [ruoyi-net]</code>\uff0c\u5bb9\u5668\u5185\u4ee5\u670d\u52a1\u540d\u4e92\u901a - \u5065\u5eb7\u68c0\u67e5\uff1a\u4e3a <code>mysql</code>\u3001<code>nacos</code> \u7b49\u589e\u52a0 <code>healthcheck</code>\uff0c\u786e\u4fdd\u4f9d\u8d56\u987a\u5e8f - <code>depends_on</code> + <code>condition: service_healthy</code>\uff1a\u5148\u540e\u987a\u5e8f\u53ef\u9760 - \u6620\u5c04\u7aef\u53e3\uff1a\u5982 <code>ruoyi-gateway: 30080:8080</code>\u3001<code>mysql: 3307:3306</code> - \u73af\u5883\u53d8\u91cf\u96c6\u4e2d\uff1a\u516c\u5171\u9879\u653e <code>x-common-env</code>\uff08\u6216\u5355\u72ec <code>01-common.yaml</code>\uff09</p> <p>\u4e00\u53e5\u8bdd\uff1a\u628a\u201c\u4eba\u8981\u8bb0\u4f4f\u7684\u201d\u53d8\u6210\u201c\u914d\u7f6e\u5199\u4f4f\u7684\u201d\uff0c\u672c\u673a/\u540c\u4e8b/\u6f14\u793a\u673a\u90fd\u80fd\u79d2\u8d77\u3002</p>"},{"location":"issues-rca/","title":"\u95ee\u9898\u2014\u539f\u56e0\u2014\u4fee\u590d\uff08Issues \u00b7 Root Cause \u00b7 Fixes\uff09","text":"<p>\u73af\u5883\u8bf4\u660e\uff1aRuoYi-Cloud\uff08ruoyi-modules-robot / ruoyi-api-robot\uff09\uff0cGateway \u7edf\u4e00\u5165\u53e3 <code>/external/gs/**</code>\uff1b Nacos \u6ce8\u518c\u4e0e\u914d\u7f6e\uff0cSentinel \u52a8\u6001\u89c4\u5219\uff0cSkyWalking \u5168\u94fe\u8def\uff0c\u53ef\u9009 RabbitMQ \u5f02\u6b65\uff1bDocker Compose \u4e00\u952e\u4ea4\u4ed8\u3002</p>"},{"location":"issues-rca/#0","title":"0.\u4e0a\u7ebf\u53e3\u5f84\u4e0e\u538b\u6d4b\u57fa\u7ebf","text":"<ul> <li>\u53e3\u5f84\u4e0e\u57fa\u7ebf\u4e0d\u6e05 \u8868\u73b0\uff1a\u4e0d\u540c\u540c\u5b66\u5bf9\u201c\u6210\u529f/\u5931\u8d25\u201d\u201c\u662f\u5426\u7b97 429\u201d\u53e3\u5f84\u4e0d\u4e00\u81f4\uff0c\u5bfc\u81f4\u6307\u6807\u89e3\u8bfb\u504f\u5dee\u3002 \u4fee\u590d\uff1a\u7edf\u4e00\u53e3\u5f84\u4e0e\u57fa\u7ebf\uff1a  </li> <li>Dry-Run/\u5173\u6d88\u8d39\u538b\u6d4b\u57fa\u7ebf\uff1a100 QPS \u00d7 3 \u5206\u949f\uff0c\u89c6 200/429 \u4e3a\u6210\u529f\uff08\u9a8c\u8bc1\u7f51\u5173\u9650\u6d41/\u7a33\u5b9a\u6027\uff09\u3002  </li> <li>\u89c2\u6d4b\u6307\u6807\uff1aP95/P99\u3001Throughput\u3001Error%\u3001\u961f\u5217\u7d2f\u79ef\u3001SkyWalking Success Rate\u3002  </li> <li> <p>\u7ed3\u679c\u6837\u4f8b\uff1a18035 \u6837\u672c P95=6ms\u3001P99\u224810ms\u3001Error=0\u3001Throughput\u2248100.2/s\uff08\u591a\u8f6e\u7ed3\u679c\u4e00\u81f4\uff09\u3002</p> </li> <li> <p>\u56de\u6eda\u4e0e\u51b7\u542f\u52a8\u4e0d\u53ef\u91cf\u5316 \u4fee\u590d\uff1a\u843d\u5e93\u5230\u300a\u53d8\u66f4\u8bb0\u5f55\u300b\uff1a  </p> </li> <li>\u51b7\u542f\u52a8\uff1aDocker Compose + \u9996\u542f SQL \u2192 \u2264 12 \u5206\u949f \u65b0\u73af\u5883\u5c31\u7eea\uff1b  </li> <li>\u56de\u6eda\uff1a\u5fae\u670d\u52a1\u5316\u540e \u2264 5 \u5206\u949f\uff08\u56de\u6eda\u955c\u50cf/\u914d\u7f6e\uff09 \u3002</li> </ul>"},{"location":"issues-rca/#1-gateway-nacos-sentinel","title":"1. Gateway / Nacos / Sentinel","text":"<ul> <li> <p>Nacos \u542f\u52a8\u5361\u5728 STARTING \u539f\u56e0\uff1a\u6301\u4e45\u5316 MySQL \u7248\u672c/\u5b57\u7b26\u96c6\u4e0d\u5339\u914d \u6216\u672a\u5bfc\u5165\u521d\u59cb\u5316 SQL\u3002 \u4fee\u590d\uff1a\u8865\u9f50 <code>spring.datasource.*</code>\uff0c\u5bfc\u5165\u5b98\u65b9/\u9879\u76ee\u521d\u59cb\u5316\u811a\u672c\uff1b\u7248\u672c\u4e0e\u955c\u50cf\u5bf9\u9f50\uff08\u5efa\u8bae 2.2.x\uff09\u3002</p> </li> <li> <p>\u7f51\u5173 404 / Swagger \u201cTry it out\u201d \u5931\u8d25 \u539f\u56e0\uff1a<code>StripPrefix/Path</code> \u4e0e \u4e0b\u6e38 <code>context-path</code> \u4e0d\u4e00\u81f4\uff1b\u670d\u52a1\u524d\u7f00\u6539\u52a8\u672a\u66f4\u65b0\u8def\u7531\u3002 \u4fee\u590d\uff1a\u7edf\u4e00\u8def\u5f84\u7b56\u7565\uff1b\u5fc5\u8981\u65f6\u79fb\u9664 <code>context-path</code> \u6216\u540c\u6b65\u8c03\u6574 Strip \u89c4\u5219\uff1b\u7070\u5ea6\u540e\u7edf\u4e00\u56de\u6536\u65e7\u524d\u7f00\u3002</p> </li> <li> <p>\u9650\u6d41\u8def\u5f84\u4e0d\u4e00\u81f4\uff0c\u89c4\u5219\u65e0\u6cd5\u547d\u4e2d \u539f\u56e0\uff1a<code>@SentinelResource</code> \u5206\u6563\u5728 Controller\uff0c\u8d44\u6e90\u540d\u4e0d\u7edf\u4e00\u3002 \u4fee\u590d\uff1a\u7edf\u4e00\u4e0b\u6c89\u5230 <code>GsOpenApiServiceImpl</code>\uff1b\u89c4\u8303\u8d44\u6e90\u547d\u540d\uff0c\u5e76\u4e0e Nacos \u89c4\u5219\u4e00\u4e00\u5bf9\u5e94   \uff08\u5982\uff1a<code>ruoyi-gateway-gw-api-defs/gw-flow/gw-degrade</code>\uff09\u3002</p> </li> <li> <p>Sentinel \u89c4\u5219\u4e0d\u751f\u6548/\u5206\u7ec4\u7a7a\u767d \u539f\u56e0\uff1a\u7f3a <code>sentinel-datasource-nacos</code> \u4f9d\u8d56\uff0c\u6216 DataId/Group \u4e0e JSON \u4e0d\u4e00\u81f4\u3002 \u4fee\u590d\uff1a\u8865\u4f9d\u8d56\uff1b\u6821\u9a8c\u4e09\u5143\u7ec4 <code>{AppName, DataId, Group}</code> \u4e0e JSON \u7ed3\u6784\uff1b\u538b\u6d4b\u524d\u63d0\u9ad8\u7f51\u5173\u9608\u503c\u907f\u514d\u88ab 429 \u62a2\u5148\u6321\u6389\u3002</p> </li> <li> <p>CORS \u9884\u68c0\u88ab\u62e6 \u539f\u56e0\uff1a\u672a\u653e\u884c OPTIONS \u6216\u54cd\u5e94\u5934\u7f3a\u5931\u3002 \u4fee\u590d\uff1a\u914d\u7f6e\u5168\u5c40 CORS\uff1a\u5141\u8bb8\u6240\u9700 <code>Origin/Headers/Methods</code>\uff0c\u66b4\u9732\u5fc5\u8981\u54cd\u5e94\u5934\uff1b\u663e\u5f0f\u653e\u884c OPTIONS\u3002</p> </li> </ul>"},{"location":"issues-rca/#2","title":"2. \u53ef\u89c2\u6d4b\u6027\u4e0e\u57fa\u7840\u8bbe\u65bd","text":"<ul> <li>\u65e0 Gateway \u94fe\u8def / \u65e5\u5fd7\u65e0 <code>traceId</code> \u539f\u56e0\uff1a\u672a\u52a0\u8f7d SCG/WebFlux \u63d2\u4ef6\uff1b<code>-javaagent</code> \u672a\u6ce8\u5165\uff1bLogback \u65e0 MDC\u3002 \u4fee\u590d\uff1a  </li> <li>\u5c06 <code>apm-spring-cloud-gateway-3.x-plugin</code> \u653e\u5165 plugins\uff1b  </li> <li>\u542f\u52a8\u52a0\u5165 <code>-javaagent:/path/to/agent/agent.jar</code>\uff1b  </li> <li> <p>Logback Pattern \u589e\u52a0 <code>%X{traceId}</code>\uff1b\u538b\u6d4b\u671f\u9002\u5f53\u63d0\u9ad8\u91c7\u6837\u7387\uff0c\u751f\u4ea7\u6309 QPS \u964d\u566a\u3002</p> </li> <li> <p>Docker\uff1aMySQL \u7aef\u53e3\u51b2\u7a81/\u9996\u6b21\u65e0\u6570\u636e \u539f\u56e0\uff1a\u5bbf\u4e3b\u5360\u7528 <code>3306</code> \u6216\u672a\u5bfc\u5165 SQL\u3002 \u4fee\u590d\uff1a\u8c03\u6574\u7aef\u53e3\u6620\u5c04\u6216\u505c\u5bbf\u4e3b MySQL\uff1bcompose \u9884\u5bfc\u5165 SQL\uff1b\u589e\u52a0 <code>healthcheck</code> \u5e76\u8ba9\u4e0a\u6e38\u4f9d\u8d56 <code>depends_on.condition=service_healthy</code>\u3002</p> </li> <li> <p>\u5bb9\u5668\u5185\u8bbf\u95ee\u5931\u8d25\uff08\u8bef\u7528\u5bbf\u4e3b <code>localhost</code>\uff09 \u539f\u56e0\uff1a\u5bb9\u5668\u5c06\u5bbf\u4e3b\u5730\u5740\u5f53\u672c\u5730\u3002 \u4fee\u590d\uff1a\u5bb9\u5668\u95f4\u4e92\u8c03\u7528 \u670d\u52a1\u540d:\u7aef\u53e3\uff1b\u8bbf\u95ee\u5bbf\u4e3b\u5728 Win/Mac \u4f7f\u7528 <code>host.docker.internal</code>\u3002</p> </li> <li> <p>\u4f9d\u8d56/\u63d2\u4ef6\u51b2\u7a81\uff08Reactor Netty \u7b49\uff09 \u539f\u56e0\uff1aSpring Boot/Cloud \u4e0e\u4f9d\u8d56\u77e9\u9635\u4e0d\u4e00\u81f4\u3002 \u4fee\u590d\uff1a\u9501\u5b9a\u7248\u672c\u77e9\u9635\uff1b\u4ec5\u6309\u9700\u5f15\u5165 gateway/webflux/skywalking \u63d2\u4ef6\u5e76\u6821\u9a8c\u517c\u5bb9\u6027\u3002</p> </li> </ul>"},{"location":"issues-rca/#3","title":"3. \u5f02\u6b65\u5316\u4e0e\u5e42\u7b49","text":"<ul> <li>\u538b\u6d4b\u65f6\u961f\u5217\u65e0\u9650\u7d2f\u79ef/\u6d88\u606f\u91cd\u590d\u6d88\u8d39 \u539f\u56e0\uff1a\u6f14\u793a\u73af\u5883 \u5173\u6d88\u8d39\uff08Dry-Run\uff09 \u6216\u7f3a\u5c11 prefetch/\u624b\u52a8 ack\uff1b\u5931\u8d25\u91cd\u8bd5\u65e0\u4e0a\u9650\u3002 \u4fee\u590d\uff1a  </li> <li>\u538b\u6d4b\u53e3\u5f84\uff1a\u5173\u6d88\u8d39\u53ea\u6821\u9a8c\u5165\u53e3\u4e0e\u53ef\u89c2\u6d4b\uff0c\u5141\u8bb8\u7d2f\u79ef\uff1b  </li> <li>\u6b63\u5f0f\uff1a\u5f00\u542f\u6d88\u8d39\u8005\uff0c\u8bbe <code>prefetch= n</code>\u3001\u624b\u52a8 ack\uff0c\u5931\u8d25\u8fdb\u5165 DLQ\uff1b  </li> <li> <p>\u5199\u64cd\u4f5c\u5f15\u5165\u5e42\u7b49\u952e\uff0c\u8d85\u65f6/\u91cd\u8bd5\u7981\u6b62\u653e\u5927\u6545\u969c\u3002</p> </li> <li> <p>RestTemplate \u5806\u79ef/\u91cd\u8bd5\u653e\u5927 \u539f\u56e0\uff1a\u672a\u8bbe\u7f6e\u8d85\u65f6\u4e0e\u8fde\u63a5\u6c60\uff0c\u81ea\u52a8\u91cd\u8bd5\u5f00\u542f\u3002 \u4fee\u590d\uff1a\u8bbe\u7f6e <code>connect/read</code> \u8d85\u65f6\u3001\u8fde\u63a5\u6c60\u5927\u5c0f\uff1b\u7981\u7528\u81ea\u52a8\u91cd\u8bd5\uff1b\u5173\u952e\u5199\u64cd\u4f5c\u5e42\u7b49\u5316\u3002</p> </li> </ul>"},{"location":"issues-rca/#4-ruoyi-vue","title":"4. \u4ee3\u7801\u4e0e\u524d\u7aef\uff08RuoYi + Vue\uff09","text":"<ul> <li> <p>MyBatis <code>Invalid bound statement</code> \u539f\u56e0\uff1a<code>mapper-locations</code> \u6216 XML <code>namespace</code> \u2260 \u63a5\u53e3 FQN\uff1bXML \u672a\u6253\u5305\u3002 \u4fee\u590d\uff1a\u6821\u5bf9 <code>@MapperScan + namespace</code>\uff1b\u786e\u4fdd XML \u88ab\u626b\u63cf\u4e0e\u6253\u5305\u3002</p> </li> <li> <p>\u524d\u7aef\u8de8\u57df/\u7aef\u53e3\u4e0d\u4e00\u81f4 \u539f\u56e0\uff1a\u73af\u5883\u5207\u6362\u65f6 proxy \u672a\u540c\u6b65\u3002 \u4fee\u590d\uff1a<code>vue.config.js</code> \u7edf\u4e00\u4ee3\u7406\uff0c\u7aef\u53e3/\u76ee\u6807\u968f\u73af\u5883\u53d8\u91cf\u5207\u6362\u3002</p> </li> <li> <p>UI \u5c0f\u95ee\u9898\uff08\u6765\u81ea\u9636\u6bb5\u603b\u7ed3\uff09 \u8868\u73b0\uff1a\u5206\u533a/\u5730\u56fe\u540d\u6362\u884c\u3001\u72b6\u6001\u672a\u81ea\u52a8\u5237\u65b0\u3001\u63a5\u53e3\u7ed3\u679c\u7ed3\u6784\u4e0d\u4e00\u81f4\u7b49\u3002 \u4fee\u590d\uff1a  </p> </li> <li>\u8868\u683c\u5217\u5bbd + <code>tooltip</code> \u4f18\u5316\uff1b  </li> <li>\u589e\u52a0\u201c\u624b\u52a8\u5237\u65b0\u201d\uff08\u540e\u7eed\u518d\u4e0a\u5b9a\u65f6\u5237\u65b0\uff09\uff1b  </li> <li>API \u8fd4\u56de\u505a\u201c\u5b57\u7b26\u4e32/\u5bf9\u8c61\u201d\u5065\u58ee\u89e3\u6790\uff0c\u907f\u514d\u4efb\u52a1\u4e0b\u53d1\u63d0\u793a\u9519\u8bef\uff1b  </li> <li><code>areaId</code> \u4e0e\u5750\u6807\u6620\u5c04\u7f3a\u6570\u636e \u2192 \u4e0e\u5382\u5546\u5bf9\u9f50\u6570\u636e\u8868\uff0c\u7eb3\u5165\u540e\u7eed\u91cc\u7a0b\u7891\u3002</li> </ul>"},{"location":"issues-rca/#5","title":"5. \u89c4\u7ea6\u4e0e\u6cbb\u7406\uff08\u7edf\u4e00\u547d\u540d &amp; \u56de\u6eaf\uff09","text":"<ul> <li>\u8d44\u6e90\u547d\u540d/\u65e5\u5fd7\u5b57\u6bb5\u4e0d\u7edf\u4e00\uff0c\u6392\u969c\u56f0\u96be \u4fee\u590d\uff1a  </li> <li>\u7edf\u4e00\u8d44\u6e90\u547d\u540d\uff08\u4e0e Sentinel \u89c4\u5219\u4e00\u81f4\uff09\uff0c\u7edf\u4e00\u5f02\u5e38\u4f53\uff1b  </li> <li>\u65e5\u5fd7\u6ce8\u5165 <code>traceId</code>\u3001<code>requestId</code>\u3001<code>taskId</code>\u3001<code>resource</code>\uff1b  </li> <li>\u590d\u76d8\u6d41\u7a0b\uff1a\u5148\u4ea4\u4ed8\u540e\u6f14\u8fdb\uff0c\u53d8\u66f4\u4e0e\u56de\u6eda\u7559\u75d5\uff0c\u6309\u201c\u95ee\u9898\u2192\u539f\u56e0\u2192\u4fee\u590d\u201d\u56fa\u5316\u5230\u6587\u6863\u3002</li> </ul>"},{"location":"issues-rca/#_1","title":"\u9644\uff1a\u53ef\u590d\u7528\u6e05\u5355\uff08\u4e0a\u7ebf\u524d\u81ea\u68c0\uff09","text":"<ul> <li>[ ] <code>gateway</code> \u8def\u7531/\u524d\u7f00 \u4e0e\u4e0b\u6e38\u8def\u5f84\u4e00\u81f4\uff1b  </li> <li>[ ] Nacos \u89c4\u5219\uff08DataId/Group\uff09\u4e0e\u5e94\u7528\u8d44\u6e90\u540d\u4e00\u81f4\uff1b  </li> <li>[ ] SkyWalking <code>-javaagent</code> \u4e0e Gateway/WebFlux \u63d2\u4ef6\u5230\u4f4d\uff1b  </li> <li>[ ] Docker <code>healthcheck</code> \u5b8c\u6574\uff0c\u9996\u6b21\u542f\u52a8 SQL \u81ea\u52a8\u5bfc\u5165\uff1b  </li> <li>[ ] \u5173\u6d88\u8d39\u538b\u6d4b\u53e3\u5f84/\u89c2\u6d4b\u6307\u6807\u4e00\u81f4\uff0c\u6b63\u5f0f\u73af\u5883\u5f00\u542f\u6d88\u8d39\u8005\u5e76\u914d\u597d DLQ\uff1b  </li> <li>[ ] CORS\u3001\u8d85\u65f6\u3001\u8fde\u63a5\u6c60\u3001\u5e42\u7b49\u4e0e\u91cd\u8bd5\u7b56\u7565\u5230\u4f4d\uff1b  </li> <li>[ ] \u65e5\u5fd7\u5305\u542b trace \u5b57\u6bb5\uff0c\u53ef\u5b9e\u73b0 trace \u2194 log \u4e92\u67e5\u3002</li> </ul> <p>\u6307\u6807\u6765\u6e90\uff1a\u9636\u6bb5\u603b\u7ed3\u4e0e\u6f14\u793a\u538b\u6d4b\u8bb0\u5f55\uff08\u57fa\u7ebf 100 QPS\uff0cP95\u22486ms\uff0cP99\u22489\u201310ms\uff0cError=0\uff09\u3002</p>"},{"location":"live-demo/","title":"\u8fd0\u884c\u6548\u679c\uff08Live Demo\uff09","text":"<p>\u6240\u6709\u56fe\u7247\u5747\u5df2\u505a\u8131\u654f\u5904\u7406\uff1b\u5bc6\u94a5\u7b49\u654f\u611f\u4fe1\u606f\u4e0d\u5bf9\u5916\u5c55\u793a\u3002</p>"},{"location":"live-demo/#0","title":"0.\u56ed\u533a\u8c03\u5ea6\u7cfb\u7edf: \u9996\u9875","text":""},{"location":"live-demo/#_1","title":"\u8fd0\u884c\u6548\u679c Live Demo","text":""},{"location":"live-demo/#1","title":"1.\u673a\u5668\u4eba\u7ba1\u7406: \u521d\u59cb\u754c\u9762","text":""},{"location":"live-demo/#_2","title":"\u8fd0\u884c\u6548\u679c Live Demo","text":""},{"location":"live-demo/#2","title":"2.\u673a\u5668\u4eba\u7ba1\u7406: \u70b9\u51fb\u5217\u8868","text":""},{"location":"live-demo/#_3","title":"\u8fd0\u884c\u6548\u679c Live Demo","text":""},{"location":"live-demo/#3","title":"3.\u673a\u5668\u4eba\u7ba1\u7406: \u521b\u5efa\u4efb\u52a1","text":""},{"location":"live-demo/#_4","title":"\u8fd0\u884c\u6548\u679c Live Demo","text":""},{"location":"live-demo/#4","title":"4.\u673a\u5668\u4eba\u7ba1\u7406: \u4efb\u52a1\u72b6\u6001\u67e5\u8be2","text":""},{"location":"live-demo/#_5","title":"\u8fd0\u884c\u6548\u679c Live Demo","text":""},{"location":"live-demo/#5-gaussian","title":"5.\u73b0\u573a\u8054\u8c03: Gaussian","text":"<p>\u5907\u6ce8\uff1a\u7167\u7247\u4e0e\u754c\u9762\u5df2\u8131\u654f\uff1b\u6240\u6709\u5bc6\u94a5\u5df2\u79fb\u9664\uff0c\u4ec5\u5c55\u793a\u8054\u8c03\u6d41\u7a0b\u4e0e\u7ed3\u679c\u3002</p>"},{"location":"live-demo/#6","title":"6.\u56ed\u533a\u9a7e\u9a76\u8231: \u521d\u59cb\u754c\u9762","text":"<p>\u5907\u6ce8\uff1a\u5f53\u524d\u4e3a\u6f14\u793a\u6570\u636e\uff1b\u5f85\u4e0e\u56ed\u533a\u7cfb\u7edf\u8054\u8c03\u5b8c\u6210\u540e\uff0c\u5c06\u5207\u6362\u4e3a\u5b9e\u65f6\u6570\u636e\u5c55\u793a\u3002 </p>"},{"location":"live-demo/#7-3d","title":"7.\u56ed\u533a\u9a7e\u9a76\u8231: 3D\u6548\u679c\u5c55\u793a","text":"<p>\u5907\u6ce8\uff1a\u5f53\u524d\u4e3a\u6f14\u793a\u6570\u636e\uff1b\u5f85\u4e0e\u56ed\u533a\u7cfb\u7edf\u8054\u8c03\u5b8c\u6210\u540e\uff0c\u5c06\u5207\u6362\u4e3a\u5b9e\u65f6\u6570\u636e\u5c55\u793a\u3002 </p>"},{"location":"live-demo/#8","title":"8.\u56ed\u533a\u9a7e\u9a76\u8231: \u53d1\u73b0\u9669\u60c5","text":"<p>\u8bf4\u660e\uff1a\u5f53\u524d\u4e3a\u6f14\u793a\u6570\u636e\uff1b\u5f85\u4e0e\u56ed\u533a\u7cfb\u7edf\u8054\u8c03\u5b8c\u6210\u540e\uff0c\u5c06\u5207\u6362\u4e3a\u5b9e\u65f6\u6570\u636e\u5c55\u793a\u3002</p> <p></p>"},{"location":"loadtest-jmeter/","title":"\u538b\u6d4b\uff08JMeter\uff09","text":"<p>\u76ee\u6807\uff1a\u9a8c\u8bc1\u5165\u53e3\u94fe\u8def\u5728\u76ee\u6807\u541e\u5410\u4e0b\u7684\u7a33\u5b9a\u6027\u4e0e\u53ef\u89c2\u6d4b\u6027\uff1b\u91c7\u7528 Dry-Run \u4e0e \u7981\u7528\u6d88\u8d39\u8005 \u7684\u65b9\u5f0f\u786e\u4fdd\u4e0d\u6253\u771f\u673a\uff1b\u901a\u8fc7 RabbitMQ \u4e0e SkyWalking \u6307\u6807\u8fdb\u884c\u4fa7\u8bc1\u3002</p>"},{"location":"loadtest-jmeter/#1","title":"1.\u6d4b\u8bd5\u76ee\u6807\u4e0e\u94fe\u8def\u8303\u56f4","text":"<ul> <li>\u94fe\u8def\uff1aGateway \u2192 ruoyi-robot \u2192 MQ</li> <li>\u98ce\u9669\u63a7\u5236\uff1a  </li> <li>Dry-Run\uff1a\u6240\u6709\u8bf7\u6c42\u5e26 <code>X-Dry-Run: true</code>\uff0c\u7f51\u5173\u7edf\u4e00 403 \u62e6\u622a\u771f\u5206\u652f\u3002  </li> <li>\u7981\u7528\u6d88\u8d39\u8005\uff1a\u4e0b\u6e38\u6d88\u8d39\u8005\u8fdb\u7a0b/\u7ebf\u7a0b\u6570 = 0\uff0c\u4ec5\u9a8c\u8bc1\u5165\u53e3\u5199\u5165\u4e0e\u94fe\u8def\u541e\u5410\u3002  </li> <li>\u5916\u8bbe\u9694\u79bb\uff1a\u4efb\u52a1\u4e3a\u6a21\u62df\u7a7a\u5b9e\u73b0\uff0c\u4e0d\u89e6\u53d1\u771f\u5b9e\u8bbe\u5907\u52a8\u4f5c\u3002</li> </ul>"},{"location":"loadtest-jmeter/#2","title":"2.\u6d41\u91cf\u6a21\u578b\u4e0e\u538b\u6d4b\u65b9\u6cd5","text":"<ul> <li>\u76ee\u6807\u541e\u5410 100 QPS\uff0c\u6301\u7eed 3 \u5206\u949f\uff1b<code>Constant Throughput Timer</code> \u63a7\u5236\u5168\u5c40\u901f\u7387\u3002  </li> <li>\u65ad\u8a00/\u540e\u7f6e\uff1a\u4fdd\u7559\u5fc5\u8981\u5b57\u6bb5\uff08\u8bf7\u6c42\u5934\u3001traceId \u6ce8\u5165\u3001\u54cd\u5e94\u7801\u7b49\uff09\u3002</li> </ul>"},{"location":"loadtest-jmeter/#3","title":"3.\u7ed3\u679c\u603b\u89c8","text":"<ul> <li>\u9519\u8bef\u7387 0%\uff0cTP \u7a33\u5b9a\uff1bP95/P99 \u5ef6\u8fdf\u5728\u9884\u671f\u5185\u3002</li> </ul>"},{"location":"loadtest-jmeter/#4","title":"4.\u7ed3\u679c\u660e\u7ec6","text":"<ul> <li>\u54cd\u5e94 <code>200 OK</code>\uff1b<code>X-Which-Route</code>\u3001<code>traceId</code> \u7b49\u5173\u952e\u5934/\u6807\u7b7e\u9f50\u5168\uff0c\u4fbf\u4e8e Trace \u2194 Log \u4e92\u67e5\u3002</li> </ul>"},{"location":"loadtest-jmeter/#5","title":"5.\u6d88\u606f\u4fa7\u9a8c\u8bc1","text":"<ul> <li>\u961f\u5217\uff1a<code>robot.tempTask.q</code>\uff08\u793a\u4f8b\uff09\uff1b\u8bf7\u6c42\u5165\u961f\u53ef\u89c1\u3001\u65e0\u6d88\u8d39\uff08\u6d88\u8d39\u8005\u7981\u7528\uff09\uff0cDLX/DLQ \u89c4\u5219\u6b63\u5e38\u3002</li> </ul>"},{"location":"loadtest-jmeter/#6","title":"6.\u7f51\u5173\u670d\u52a1\u6307\u6807","text":"<ul> <li>Apdex\u3001\u6210\u529f\u7387\u3001\u670d\u52a1\u8d1f\u8f7d\u3001\u5b9e\u4f8b\u8d1f\u8f7d\u3001\u7aef\u70b9\u8d1f\u8f7d\u7b49\u6307\u6807\u5728 100 QPS \u4e0b\u7a33\u5b9a\uff0c\u65e0\u5f02\u5e38\u5cf0\u503c\u3002</li> </ul>"},{"location":"loadtest-jmeter/#7","title":"7.\u4e1a\u52a1\u670d\u52a1\u6307\u6807","text":"<ul> <li>\u670d\u52a1\u5c42\uff1a\u5e73\u5747\u54cd\u5e94\u3001P95/P99\u3001\u6210\u529f\u7387\u7a33\u5b9a\uff1b\u5b9e\u4f8b\u5c42\uff1a\u8d1f\u8f7d\u5206\u5e03\u5747\u8861\uff0c\u65e0\u660e\u663e\u503e\u659c\u3002</li> </ul>"},{"location":"loadtest-jmeter/#8","title":"8.\u7aef\u70b9\u8d1f\u8f7d\u4e0e\u5ef6\u8fdf","text":"<ul> <li>TopN \u7aef\u70b9\u8d1f\u8f7d/\u5ef6\u8fdf\u53ef\u89c6\u5316\uff1b\u5b9a\u4f4d\u601d\u8def\uff1a\u9501\u5b9a\u6162/\u9519\u7aef\u70b9 \u2192 \u5173\u8054 Trace \u2192 \u53cd\u67e5\u65e5\u5fd7\uff08traceId\uff09\u3002</li> </ul>"},{"location":"mq-async/","title":"\u5f02\u6b65\u5316\uff08RabbitMQ\uff09","text":"<p>\u76ee\u6807\uff1a\u901a\u8fc7\u6d88\u606f\u5316\u89e3\u8026\u8bf7\u6c42\u4e0e\u6267\u884c\uff0c\u5f02\u6b65\u4e0b\u53d1\u4efb\u52a1\uff1b - \u5ba2\u6237\u7aef\u4e0b\u53d1 \u2192 \u7f51\u5173 \u2192 Producer \u843d\u5e93\u4e0e\u6295\u9012\uff08publisher confirm\uff09\u2192 \u7acb\u5373\u8fd4\u56de 202 \u4e0e\u4efb\u52a1\u67e5\u8be2\u5730\u5740\uff1b - Consumer \u624b\u52a8 ack\u3001\u5e42\u7b49\u4fdd\u8bc1\uff08Redis SETNX\uff09\uff1b\u5931\u8d25\u8fdb\u5165 retry\uff08q.1m/q.5m/q.30m\uff09\u7528\u5c3d\u540e\u6d41\u5411 DLQ\uff1b - \u6240\u6709\u73af\u8282\u6ce8\u5165 <code>traceId</code>\uff0c\u6253\u901a APM/Log/Metrics\u3002</p>"},{"location":"mq-async/#1","title":"1.\u961f\u5217\u76d1\u63a7 &amp; \u5f02\u6b65\u5316\u67b6\u6784","text":""},{"location":"mq-async/#11-queue","title":"1.1 \u961f\u5217\u76d1\u63a7\uff08Queue\uff09","text":"<ul> <li>\u5173\u6ce8\uff1aready / unacked / total\u3001\u7ed1\u5b9a\u5173\u7cfb\uff08routing key / exchange\uff09\u3001DLX/DLQ \u914d\u7f6e\u7b49\u3002</li> <li>\u7f51\u5173\u4fa7\u53ef\u8bbe\u961f\u5217\u6df1\u5ea6\u9608\u503c\u505a 429 Guard\uff08\u4fdd\u62a4\u5165\u53e3\uff09\u3002</li> </ul>"},{"location":"mq-async/#12-architecture","title":"1.2 \u5f02\u6b65\u5316\u67b6\u6784\uff08Architecture\uff09","text":"<ul> <li>Producer\uff1apublisher confirms \u6210\u529f\u540e\u8fd4\u56de 202\uff1b\u5199 Redis \u8bb0\u5f55 <code>status/progress/result</code>\uff08\u9644 TTL\uff09\u3002  </li> <li>Exchange/Queue\uff1atopic \u4ea4\u6362\u673a\uff1brobot.task.q \u5de5\u4f5c\u961f\u5217\uff0crobot.retry \u591a\u7ea7\u91cd\u8bd5\uff0c\u6700\u7ec8\u6d41\u5411 DLQ\u3002  </li> <li>Consumer\uff1a<code>prefetch = N</code>\u3001manual ack\uff1b\u6210\u529f <code>ack</code>\uff0c\u5931\u8d25 publish \u5230 <code>robot.retry</code>\u3002</li> </ul>"},{"location":"mq-async/#2","title":"2.\u63a5\u5165\u8bbe\u8ba1\u4e0e\u5173\u952e\u53c2\u6570","text":"<ul> <li><code>publisher-confirm-type: correlated</code> &amp; <code>publisher-returns: true</code>\uff0c<code>mandatory: true</code> \u4fdd\u969c return \u53ef\u89c1\uff1b  </li> <li>\u5e76\u53d1\uff1a<code>concurrency=2</code>\u3001<code>max-concurrency=8</code>\uff0cprefetch=20\uff08\u603b in-flight\u224840\uff09\uff1b  </li> <li>TTL\uff1a<code>message-ttl=3600s</code>\uff1b\u4efb\u52a1\u7ed3\u679c TTL \u53ef 24h\uff1b  </li> <li>\u5f02\u5e38\u4e0d\u91cd\u56de\uff1a<code>default-requeue-rejected: false</code>\uff0c\u907f\u514d\u201c\u9b3c\u755c\u201d\u91cd\u8bd5\u3002</li> </ul>"},{"location":"mq-async/#3","title":"3.\u6d88\u8d39\u4e0e\u9519\u8bef\u5904\u7406","text":"<ul> <li>\u5931\u8d25\u5904\u7406\uff1a\u5148\u8def\u7531\u5230 <code>robot.retry</code>\uff08q.1m \u2192 q.5m \u2192 q.30m\uff09\uff0c\u91cd\u8bd5\u7528\u5c3d \u2192 <code>robot.task.dlq</code>\uff1b  </li> <li>\u5e42\u7b49\uff1aRedis <code>SETNX</code>\uff08taskId\uff09\u786e\u4fdd Consumer \u7aef\u4e00\u6b21\u4e14\u4ec5\u4e00\u6b21\u7684\u4e1a\u52a1\u6267\u884c\uff1b  </li> <li>\u53ef\u89c2\u6d4b\u6027\uff1a\u6253\u901a\u94fe\u8def\uff0c<code>traceId</code> \u8d2f\u7a7f \u7f51\u5173 / Producer / RabbitMQ / Consumer\uff0c\u6392\u969c\u5feb\u3002</li> </ul>"},{"location":"mq-async/#4postman","title":"4.\u8054\u8c03\u7ed3\u679c\uff08Postman\uff09","text":"<ul> <li>\u521b\u5efa\u4efb\u52a1\uff1a\u8fd4\u56de <code>202 Accepted</code> + <code>statusUrl</code>\uff1b  </li> <li>\u67e5\u8be2\u4efb\u52a1\uff1a\u6309 <code>taskId</code> \u67e5 Redis\uff08\u6216 DB\uff09\uff0c\u8fd4\u56de PENDING / RUNNING / SUCCESS / FAIL\uff1b  </li> <li>Header \u6ce8\u5165 X-Request-Id \u4fbf\u4e8e\u4e0e\u65e5\u5fd7/Trace \u5bf9\u9f50\u3002</li> </ul>"},{"location":"observability/","title":"\u53ef\u89c2\u6d4b\u6027\uff08SkyWalking\uff09","text":"<p>\u76ee\u6807\uff1a\u7aef\u5230\u7aef tracing\uff1bGateway\u2192\u4e0b\u6e38\u53ef\u4e32\uff1b<code>traceId</code> \u6ce8\u5165\u65e5\u5fd7\uff0c\u5b9e\u73b0 trace \u2194 log \u4e92\u67e5\u3002 \u4eea\u8868\uff1aService / Endpoint \u6307\u6807\uff08QPS\u3001Latency\u3001Error\uff09\u3001\u62d3\u6251\u3001Trace \u8be6\u60c5\u3001Dashboard\u3002</p>"},{"location":"observability/#1","title":"1.\u7aef\u5230\u7aef\u89c2\u6d4b\u603b\u89c8","text":"<ul> <li>Service \u6982\u89c8\uff1a\u5404\u670d\u52a1\u7684\u541e\u5410\u3001\u6210\u529f\u7387\u3001\u5ef6\u8fdf\u3001Apdex\u3002  </li> <li>Endpoint \u89c6\u56fe\uff1a\u5f53\u524d\u670d\u52a1\u5185 TopN \u63a5\u53e3\u7684\u8c03\u7528\u91cf\u4e0e\u6210\u529f\u7387\uff0c\u7528\u4e8e\u5b9a\u4f4d\u6162/\u9519\u63a5\u53e3\u3002</li> </ul>"},{"location":"observability/#2","title":"2.\u670d\u52a1\u62d3\u6251","text":"<ul> <li>\u76f4\u89c2\u770b\u5230 Gateway \u2192 \u5404\u670d\u52a1 \u2192 DB/Cache/Vendor \u7684\u8c03\u7528\u5173\u7cfb\uff1b  </li> <li>\u5b9e\u7ebf/\u865a\u7ebf\u533a\u5206\u771f\u5b9e\u8c03\u7528\u4e0e\u9065\u6d4b\u4e0a\u62a5\uff1b\u652f\u6301\u8bbe\u7f6e\u62d3\u6251\u6df1\u5ea6\u3001\u7b5b\u9009\u5931\u8d25\u6d41\u5411\u3002</li> </ul>"},{"location":"observability/#3","title":"3.\u94fe\u8def\u8ffd\u8e2a: \u5f02\u6b65\u4efb\u52a1\u8def\u5f84","text":"<ul> <li>\u5c55\u793a\u4ece \u5165\u961f \u2192 \u6d88\u8d39 \u2192 \u5916\u90e8 OpenAPI \u2192 \u6301\u4e45\u5316 \u7684\u5b8c\u6574 Span\uff1b  </li> <li>\u5e38\u7528\u64cd\u4f5c\uff1a\u6839\u636e <code>traceId</code> \u4ece\u65e5\u5fd7\u8df3\u56de Trace\uff1b\u5bf9\u5355\u4e2a Span \u67e5\u770b Tags/Logs/Stack\u3002</li> </ul>"},{"location":"observability/#4","title":"4.\u670d\u52a1\u6982\u89c8\u770b\u677f: \u5173\u952e\u6307\u6807","text":"<ul> <li>\u5173\u952e\u6307\u6807\uff1a\u5e73\u5747/\u5206\u4f4d\u5ef6\u8fdf\uff08p50/p95/p99\uff09\u3001QPS/\u9519\u8bef\u7387\u3001\u5404\u5b9e\u4f8b\u8d1f\u8f7d\uff1b  </li> <li>\u8f85\u52a9\u56fe\uff1a\u6162\u63a5\u53e3\u6392\u884c\u3001\u6d88\u606f\u961f\u5217\u6d88\u8d39\u5ef6\u8fdf\u3001\u5b9e\u4f8b\u6210\u529f\u7387\u7b49\uff0c\u652f\u6301\u65f6\u95f4\u7a97\u53e3\u5207\u6362\u3002</li> </ul>"},{"location":"overview/","title":"\u6982\u89c8 Overview","text":"<p>\u672c\u7ae0\u7ed9\u51fa\u6574\u4f53\u8109\u7edc\u4e0e\u9605\u8bfb\u987a\u5e8f\uff1b\u53f3\u4fa7\u4e3a\u672c\u9875\u5c0f\u76ee\u5f55\uff08TOC\uff09\u3002 \u70b9\u51fb\u4e0b\u65b9\u201c\u63a8\u8350\u9605\u8bfb\u987a\u5e8f\u201d\u4e2d\u7684\u4efb\u4e00\u6761\u76ee\u53ef\u8df3\u8f6c\u5230\u5bf9\u5e94\u5c0f\u8282\u3002</p>"},{"location":"overview/#0","title":"0. \u63a8\u8350\u9605\u8bfb\u987a\u5e8f","text":"<ol> <li>\u673a\u5668\u4eba\u7ba1\u7406\u5e73\u53f0\uff08What / Why\uff09 \u2014\u2014 \u660e\u786e\u80cc\u666f\u4e0e\u76ee\u6807  </li> <li>\u4ece\u5355\u4f53\u5230\u5fae\u670d\u52a1 \u2014\u2014 \u8fc1\u79fb\u7b56\u7565\u4e0e\u8fb9\u754c  </li> <li>\u67b6\u6784\u603b\u89c8 \u2014\u2014 \u7ec4\u4ef6\u5173\u7cfb\u4e0e\u8bbe\u8ba1\u6743\u8861  </li> <li>\u9879\u76ee\u9636\u6bb5\u4e0e\u91cc\u7a0b\u7891 \u2014\u2014 \u628a\u201c\u5927\u76ee\u6807\u201d\u62c6\u6210\u201c\u5c0f\u8282\u594f\u201d  </li> <li>OpenAPI \u5c01\u88c5\u4e0e\u7a33\u5b9a\u6027\u6cbb\u7406 \u2014\u2014 \u63a5\u53e3\u6cbb\u7406\u4e0e\u5bb9\u9519  </li> <li>\u670d\u52a1\u7b49\u7ea7\u76ee\u6807\uff08SLO\uff09 \u2014\u2014 \u6307\u6807\u8fbe\u6210\u4e0e\u6301\u7eed\u6539\u8fdb</li> </ol>"},{"location":"overview/#sec-what-why","title":"1. \u673a\u5668\u4eba\u7ba1\u7406\u5e73\u53f0\uff08What / Why\uff09","text":"<p>\u4e00\u53e5\u8bdd\uff1a\u7edf\u4e00\u7ba1\u7406\u673a\u5668\u4eba\u72b6\u6001\u3001\u5730\u56fe/\u533a\u57df\u4e0e\u4e34\u65f6\u4efb\u52a1\uff0c\u805a\u5408\u591a\u5382\u5546 OpenAPI\uff0c\u5411\u4e1a\u52a1\u7cfb\u7edf\u63d0\u4f9b\u4e00\u81f4\u7684\u63a5\u53e3\u4e0e\u5165\u53e3\u3002 One line: Unified platform for robot status/maps/zones/ad-hoc tasks; aggregates vendor OpenAPIs and exposes a consistent gateway to business apps.</p>"},{"location":"overview/#what","title":"What\uff08\u5728\u505a\u4ec0\u4e48\uff09","text":"<ul> <li>\u7edf\u4e00\u7ba1\u7406\uff1a\u673a\u5668\u4eba\u72b6\u6001\u3001\u5730\u56fe/\u533a\u57df\u3001\u4e34\u65f6\u4efb\u52a1  </li> <li>\u805a\u5408\u5f00\u653e\u63a5\u53e3\uff1a\u591a\u5382\u5546 OpenAPI\uff08\u5982 Gaussian\uff09\uff0c\u5bf9\u5916\u63d0\u4f9b\u4e00\u81f4\u63a5\u53e3  </li> <li>\u7edf\u4e00\u5165\u53e3\u4e0e\u6cbb\u7406\uff1aGateway \u9274\u6743\u3001\u5ba1\u8ba1\u3001\u9650\u6d41\u524d\u7f6e</li> </ul>"},{"location":"overview/#why","title":"Why\uff08\u4e3a\u4ec0\u4e48\u4ece\u5355\u4f53\u6f14\u8fdb\uff09","text":"<ul> <li>\u63a5\u53e3\u53d8\u5316\u5feb\u3001\u80fd\u529b\u5dee\u5f02\u5927\uff1a\u5148\u628a\u201c\u63a5\u53e3\u805a\u5408/\u4efb\u52a1\u4e0b\u53d1\u201d\u72ec\u7acb\uff0c\u4fbf\u4e8e\u5feb\u901f\u8fed\u4ee3\u4e0e\u56de\u6eda  </li> <li>\u5cf0\u503c\u4e0e\u6296\u52a8\uff1a\u9700\u8981\u9650\u6d41/\u7194\u65ad\u4e0e\u6545\u969c\u9694\u79bb\uff0c\u907f\u514d\u62d6\u57ae\u6838\u5fc3\u94fe\u8def  </li> <li>\u591a\u73af\u5883\u534f\u4f5c\u4e0e\u4ea4\u4ed8\uff1aDocker \u4e00\u952e\u4ea4\u4ed8\uff0c\u670d\u52a1\u72ec\u7acb\u53d1\u5e03/\u6269\u7f29\u5bb9</li> </ul>"},{"location":"overview/#sec-mono-to-micro","title":"2. \u4ece\u5355\u4f53\u5230\u5fae\u670d\u52a1","text":""},{"location":"overview/#_1","title":"\u80cc\u666f / \u75db\u70b9","text":"<ul> <li>\u5355\u4f53\u5148\u884c\u5feb\u901f\u9a8c\u8bc1\uff1b\u89c4\u6a21\u4e0a\u6da8\u540e\u53d1\u5e03\u5f71\u54cd\u9762\u5927\u3001\u914d\u7f6e\u5206\u6563\u3002</li> </ul>"},{"location":"overview/#_2","title":"\u76ee\u6807","text":"<ul> <li>\u5e73\u6ed1\u8fc1\u79fb\uff0c\u524d\u7aef\u57fa\u672c\u65e0\u611f\uff0c\u5206\u949f\u7ea7\u56de\u6eda\u3002</li> </ul>"},{"location":"overview/#_3","title":"\u5173\u952e\u8bbe\u8ba1","text":"<ul> <li>Gateway \u8def\u7531\uff1a<code>/external/gs/**</code> </li> <li>Nacos\uff1a\u6ce8\u518c/\u914d\u7f6e\uff08\u591a\u73af\u5883\uff09  </li> <li>Docker Compose\uff1a\u4e00\u952e\u591a\u5bb9\u5668\u4ea4\u4ed8</li> </ul>"},{"location":"overview/#_4","title":"\u96be\u70b9\u4e0e\u53d6\u820d","text":"<ul> <li>DTO \u62bd\u5230 <code>ruoyi-api-robot</code> </li> <li>Controller \u53d8\u8584 \u2192 \u903b\u8f91\u4e0b\u6c89\u5230 <code>GsOpenApiServiceImpl</code></li> </ul> <p>\u6307\u6807\u4e0e\u7ed3\u679c</p> <ul> <li>\u51b7\u542f\u52a8\uff1a\u4e00\u952e Compose\uff08\u542b\u9996\u542f SQL\uff09\u2192 \u65b0\u73af\u5883\u5c31\u7eea \u2264 12 \u5206\u949f </li> <li>\u56de\u6eda\uff1a\u5fae\u670d\u52a1\u5316\u540e\u53ef \u5206\u949f\u7ea7\u56de\u6eda\uff08\u2264 5 \u5206\u949f\uff09 </li> <li>p95\uff08\u538b\u6d4b\u57fa\u7ebf 100 QPS\uff0cDry-Run\uff09\uff1a6 ms\uff08P99 \u2248 9\u201310 ms\uff0cError=0\uff09</li> <li>\u5355\u4f53 \u2192 \u5fae\u670d\u52a1\uff1a\u53d1\u5e03\u7a97\u53e3 \u2193\uff0c\u56de\u6eda \u2264 5 \u5206\u949f </li> <li>\u4e00\u952e\u4ea4\u4ed8\uff1aDocker Compose + \u6570\u636e\u5377 + \u9996\u542f SQL\uff0c\u65b0\u73af\u5883\u5c31\u7eea \u2264 12 \u5206\u949f</li> </ul>"},{"location":"overview/#_5","title":"\u590d\u76d8","text":"<ul> <li>\u5148\u4ea4\u4ed8\u540e\u6f14\u8fdb\uff1b\u7edf\u4e00 \u8d44\u6e90\u540d / \u89c4\u5219 / \u5f02\u5e38\u4f53 / \u65e5\u5fd7\u5b57\u6bb5\u3002</li> </ul>"},{"location":"overview/#sec-architecture","title":"3. \u67b6\u6784\u603b\u89c8","text":"<p>\u5f62\u6001\uff1aRuoYi-Cloud \u5fae\u670d\u52a1\uff08Gateway + \u4e1a\u52a1\u670d\u52a1\uff09\uff0cNacos \u505a\u6ce8\u518c/\u914d\u7f6e\uff0cRabbitMQ\uff08\u89c1\u5f02\u6b65\u5316\u9875\uff09\u3001MySQL/Redis \u505a\u6570\u636e\u4e0e\u7f13\u5b58\uff0cSkyWalking \u505a\u53ef\u89c2\u6d4b\u95ed\u73af\uff0cNginx \u6258\u9759\u6001\u524d\u7aef\u3002</p>"},{"location":"overview/#1","title":"1) \u7cfb\u7edf\u67b6\u6784\u56fe","text":"<p>\u5173\u7cfb\u8bf4\u660e - \u5165\u53e3\uff1a<code>User/Browser \u2192 Nginx \u2192 Spring Cloud Gateway</code>\uff08<code>/api/**</code> \u8def\u7531\uff09 - \u4e1a\u52a1\uff1a<code>RuoYi-System</code>\uff08\u9274\u6743/ACL\uff09\u4e0e <code>RuoYi-Robot Adapter</code>\uff08OpenAPI \u805a\u5408\uff09 - \u6ce8\u518c/\u914d\u7f6e\uff1a\u670d\u52a1\u901a\u8fc7 Nacos \u53d1\u73b0\u4e0e\u62c9\u53d6\u914d\u7f6e\uff08\u591a\u73af\u5883\uff09 - \u6570\u636e\u5c42\uff1a<code>MySQL</code>\uff08\u4e1a\u52a1\u6570\u636e\uff09\u4e0e <code>Redis</code>\uff08\u7f13\u5b58/\u5e42\u7b49/\u77ed\u671f\u7ed3\u679c\uff09 - \u5916\u90e8\uff1a<code>Gaussian OpenAPI</code> \u901a\u8fc7 HTTPS \u8c03\u7528 - \u53ef\u89c2\u6d4b\u6027\uff1a\u5404\u5b9e\u4f8b\u5411 SkyWalking OAP \u4e0a\u62a5 Trace\uff1bSkyWalking UI \u4ec5\u505a\u67e5\u8be2 - \u8fde\u7ebf\u542b\u4e49\uff1a\u5b9e\u7ebf = \u8bf7\u6c42/\u8c03\u7528\uff1b\u865a\u7ebf = \u53d1\u73b0/\u914d\u7f6e/\u9065\u6d4b</p>"},{"location":"overview/#2","title":"2) \u53ef\u89c2\u6d4b\u6027\u62d3\u6251","text":"<p>\u89c2\u6d4b\u53e3\u5f84 - \u5b9e\u7ebf\uff1a\u771f\u5b9e\u8c03\u7528\u94fe\uff08Gateway \u2192 Services \u2192 DB/Cache/Vendor\uff09 - \u865a\u7ebf\uff1aAgent \u5c06 Span \u4e0a\u62a5\u5230 OAP\uff1bUI \u4ec5\u5411 OAP \u53d1\u67e5\u8be2 - \u843d\u70b9\uff1a\u5728\u7f51\u5173\u4e0e\u670d\u52a1\u4e24\u4fa7\u5747\u53ef\u770b\u5230 Service/Endpoint \u6307\u6807\u4e0e Trace</p> <p>\u5e38\u7528\u770b\u677f\uff1a\u541e\u5410/QPS\u3001\u5ef6\u8fdf\uff08p50/p95\uff09\u3001\u9519\u8bef\u7387\u3001\u6162\u8c03\u7528\u5360\u6bd4\u3001TopN Endpoint\u3001trace\u2192log \u4e92\u67e5</p>"},{"location":"overview/#sec-phases","title":"4. \u9879\u76ee\u9636\u6bb5\u4e0e\u91cc\u7a0b\u7891","text":""},{"location":"overview/#1_1","title":"1) \u9879\u76ee\u9636\u6bb5 / \u6f14\u8fdb\u8def\u7ebf","text":"<p>\u53c2\u8003\u8def\u5f84\uff1a\u5355\u4f53 MVP \u2192 Docker \u201cclone\u2192run\u201d \u2192 \u5fae\u670d\u52a1\u8bd5\u70b9\uff08Gateway + Nacos\uff09 \u2192 \u89c2\u6d4b/\u6cbb\u7406\uff08SkyWalking + Sentinel\uff09\u3002</p>"},{"location":"overview/#2_1","title":"2) \u91cc\u7a0b\u7891 &amp; \u53ef\u91cf\u5316\u4ea7\u51fa\uff08\u793a\u4f8b\uff09","text":"\u9636\u6bb5 \u5173\u952e\u4ea7\u51fa \u6307\u6807/\u4fe1\u53f7 \u5355\u4f53 MVP 10 \u4e2a OpenAPI \u8054\u8c03\uff1b\u6838\u5fc3\u8def\u5f84\u6253\u901a \u8054\u6d4b\u4e00\u6b21\u901a\u8fc7\uff1b\u6838\u5fc3\u8def\u5f84\u6210\u529f\u7387 \u2265 99.2% \u4e00\u952e\u4ea4\u4ed8 Compose + \u6570\u636e\u5377 + \u9996\u542f SQL\uff1b\u6807\u51c6\u5316\u955c\u50cf/\u811a\u672c \u65b0\u73af\u5883\u5c31\u7eea \u2264 12 \u5206\u949f\uff1b\u540c\u4ed3\u90e8\u7f72\u6210\u529f\u7387 6/6 \u5fae\u670d\u52a1\u8bd5\u70b9 Gateway + Nacos\uff1b\u805a\u5408/\u4e0b\u53d1\u5148\u62c6\uff1b\u56de\u6eda\u7b56\u7565 \u6a21\u5757\u72ec\u7acb\u53d1\u5e03\uff1b\u56de\u6eda \u2264 5 \u5206\u949f\uff1b\u7a97\u53e3 \u219350% \u53ef\u89c2\u6d4b/\u6cbb\u7406 Trace\uff1b\u9650\u6d41/\u7194\u65ad\uff1b\u7edf\u4e00\u5f02\u5e38/\u8d85\u65f6/\u8fde\u63a5\u6c60 trace\u2192log \u226595%\uff1b\u5b9a\u4f4d 12\u21923 \u5206\u949f\uff1b\u62d2\u7edd \u22641.5% \u538b\u6d4b/\u6f14\u7ec3 \u9608\u503c\u8868 &amp; Runbook\uff1b\u5bb9\u91cf/\u6545\u969c\u6f14\u7ec3 \u5cf0\u503c QPS \u2265120\uff1bP99 \u2264900ms\uff1b\u9519\u8bef \u22641%"},{"location":"overview/#sec-openapi-stability","title":"5. OpenAPI \u5c01\u88c5\u4e0e\u7a33\u5b9a\u6027\u6cbb\u7406","text":""},{"location":"overview/#_6","title":"\u80cc\u666f / \u75db\u70b9","text":"<ul> <li>\u5382\u5546 API RT/\u9519\u8bef\u4e0d\u7a33\uff0c\u8c03\u7528\u65b9\u6613\u88ab\u62d6\u6162\u3002</li> </ul>"},{"location":"overview/#_7","title":"\u76ee\u6807","text":"<ul> <li>\u76d1\u6743/\u91cd\u8bd5/\u5e42\u7b49/Trace \u7edf\u4e00\uff1b\u53cc\u5c42\u4fdd\u62a4\uff08\u7f51\u5173 + \u65b9\u6cd5\u7ea7\uff09\uff1b\u8bfb\u591a\u5199\u5c11\u7684\u8bfb\u8def\u5f84\u652f\u6301\u7f13\u5b58\u515c\u5e95\u3002</li> </ul>"},{"location":"overview/#_8","title":"\u5173\u952e\u8bbe\u8ba1","text":"<ul> <li><code>GsOpenApiServiceImpl</code> + <code>@SentinelResource</code>\uff08\u8d44\u6e90\u540d\u4e0e Nacos \u89c4\u5219\u4e00\u81f4\uff09  </li> <li>Nacos \u4e0b\u53d1 <code>Flow/Degrade</code> \u89c4\u5219  </li> <li><code>RestTemplate</code>\uff1a\u8d85\u65f6/\u8fde\u63a5\u6c60\u8bbe\u7f6e\uff0c\u7981\u7528\u81ea\u52a8\u91cd\u8bd5</li> </ul>"},{"location":"overview/#_9","title":"\u96be\u70b9\u4e0e\u53d6\u820d","text":"<ul> <li>\u7f51\u5173 vs \u5e94\u7528\u8c01\u5148\u6321\uff1a\u538b\u6d4b\u65f6\u653e\u5bbd\u7f51\u5173\u9608\u503c\uff0c\u89c2\u5bdf\u7194\u65ad\u4f4d\u7f6e\uff08\u4f18\u5148\u9650\u6d41\uff09\u3002</li> </ul>"},{"location":"overview/#_10","title":"\u6307\u6807\u4e0e\u7ed3\u679c\uff08\u793a\u4f8b\uff09","text":"<ul> <li>\u7a81\u53d1\u4e0b 429 \u5feb\u901f\u5931\u8d25\uff1bp95 \u3008\u6570\u503c\u3009 ms\uff1b\u8bfb\u63a5\u53e3\u964d\u7ea7\u8fd4\u56de\u6700\u8fd1\u6570\u636e\u3002</li> </ul>"},{"location":"overview/#_11","title":"\u590d\u76d8","text":"<ul> <li>\u9650\u6d41\u4f18\u5148\u4e8e\u7194\u65ad\uff1b\u7edf\u4e00\u5f02\u5e38\u4f53/\u65e5\u5fd7\u5b57\u6bb5\u4fbf\u4e8e\u6392\u969c\u3002</li> </ul>"},{"location":"overview/#_12","title":"\u76f8\u5173\u94fe\u63a5","text":"<ul> <li>\u8fd0\u884c\u6548\u679c\uff08Live Demo\uff09: live-demo </li> <li>\u53ef\u89c2\u6d4b\u6027\uff08SkyWalking\uff09: observability </li> <li>\u7a33\u5b9a\u6027\uff08Sentinel\uff09: stability-sentinel </li> <li>\u5f02\u6b65\u5316\uff08RabbitMQ\uff09: mq-async</li> </ul>"},{"location":"overview/#sec-slo","title":"6. \u670d\u52a1\u7b49\u7ea7\u76ee\u6807\uff08SLO\uff09","text":"<p>Scope \u8303\u56f4\uff1aGateway\uff08Spring Cloud Gateway\uff09+ Robot Service\u3002 Window \u7edf\u8ba1\u7a97\u53e3\uff1a28 \u5929\uff08\u6708\u5ea6\uff09\u3002 Success \u53e3\u5f84\uff1aHTTP \u975e 5xx \u4e14\u4e1a\u52a1 <code>code==0</code> \u8ba1\u6210\u529f\uff1b\u7b56\u7565\u6027 429\uff08\u9650\u6d41\uff09\u4e0d\u8ba1\u5931\u8d25\uff0c\u5355\u72ec\u8ddf\u8e2a\u5176\u6bd4\u4f8b\u7528\u4e8e\u5bb9\u91cf\u4e0e\u9608\u503c\u6821\u51c6\u3002 Latency \u5ef6\u8fdf\uff1a\u9ed8\u8ba4\u4ee5 Gateway \u5165\u7ad9\u2192\u54cd\u5e94\u53d1\u51fa \u7684\u65f6\u957f\u7edf\u8ba1\u3002</p>"},{"location":"overview/#slo","title":"\ud83d\udcc8 SLO\uff08\u4e2d\u6587\uff09","text":""},{"location":"overview/#1_2","title":"1) \u6307\u6807\u8868","text":"\u7528\u6237\u65c5\u7a0b / \u63a5\u53e3 SLI \u76ee\u6807\u503c \u8bf4\u660e \u673a\u5668\u4eba\u72b6\u6001\u67e5\u8be2 <code>GET /external/gs/status/**</code> \u6210\u529f\u7387 \u2265 99.9% \u6708\u5ea6\u8fbe\u6807 \u7f51\u5173\u9650\u6d41\u5728\u524d\uff1b\u5355\u5b9e\u4f8b\u7a33\u5b9a QPS \u00d7 0.7 \u9884\u7559\u5197\u4f59 P95 &lt; 300ms\uff08P99 &lt; 800ms\uff09 \u6708\u5ea6\u8fbe\u6807 \u5ba2\u6237\u7aef\u901a\u5e38 1\u20132 \u6b21\u9000\u907f\u91cd\u8bd5 \u5730\u56fe\u5217\u8868 <code>GET /maps/list/**</code> \u6210\u529f\u7387 \u2265 99.9% \u6708\u5ea6\u8fbe\u6807 \u7a33\u5b9a\u8bfb\uff1b\u7f13\u5b58/\u591a\u526f\u672c P95 &lt; 400ms \u6708\u5ea6\u8fbe\u6807 \u63a5\u53e3\u57fa\u7ebf \u4e0b\u53d1\u4efb\u52a1\uff08\u5f02\u6b65\u53d7\u7406\uff09<code>POST /external/gs/task/**</code> \u53d7\u7406\u6210\u529f\u7387 \u2265 99.5% \u6708\u5ea6\u8fbe\u6807\uff08\u22483.6h \u9884\u7b97\uff09 \u5165\u5e93+\u5165\u961f\u6210\u529f\u8ba1\u4e3a\u201c\u53d7\u7406\u6210\u529f\u201d\uff1b\u5e42\u7b49\u952e <code>taskId</code> \u53d7\u7406 P95 &lt; 1s \u6708\u5ea6\u8fbe\u6807 \u540c\u6b65\u8fd4\u56de\u201c\u5df2\u53d7\u7406\u201d\uff1b\u6267\u884c ACK \u4e0d\u7eb3\u5165\u672c SLO WebSocket \u72b6\u6001\u63a8\u9001 \u65ad\u7ebf\u540e\u6062\u590d\uff1a99% &lt; 3s \u6708\u5ea6\u8fbe\u6807 \u81ea\u52a8\u91cd\u8fde\uff1b<code>stale</code> \u89e6\u53d1\u544a\u8b66"},{"location":"overview/#2-sli","title":"2) SLI \u7edf\u8ba1\u53e3\u5f84","text":"<ul> <li>\u6210\u529f\u7387 = (\u603b\u8bf7\u6c42 \u2212 HTTP 5xx \u2212 \u4e1a\u52a1\u5931\u8d25\u7801) \u00f7 \u603b\u8bf7\u6c42\uff1b\u4e1a\u52a1\u5931\u8d25\u7801\u4ee5\u7edf\u4e00 <code>code</code> \u5b57\u6bb5\u4e3a\u51c6\u3002  </li> <li>\u5ef6\u8fdf\uff1a\u7edf\u8ba1 P50 / P95 / P99\uff08Gateway \u5165\u7ad9\u2192\u51fa\u7ad9\uff09\uff1b\u5fc5\u8981\u65f6\u8865\u5145\u670d\u52a1\u5185\u5b50\u8de8\u5ea6\u3002  </li> <li>\u53d7\u7406\u6210\u529f\u7387\uff08\u5f02\u6b65\uff09\uff1aHTTP 202/200 \u4e14\u5165\u5e93+\u5165\u961f\u6210\u529f\u624d\u8ba1\u6210\u529f\uff08\u9700\u670d\u52a1\u5185\u57cb\u70b9\uff09\u3002  </li> <li>WebSocket \u6062\u590d\uff1a\u4ece\u65ad\u5f00\u5230\u91cd\u65b0\u6536\u6d41\uff08\u5fc3\u8df3/\u8ba2\u9605\u786e\u8ba4\uff09\u7684\u65f6\u957f\u5206\u5e03\u3002</li> </ul>"},{"location":"overview/#3-sentinel","title":"3) \u4fdd\u62a4\u9608\u503c\uff08\u4e0e Sentinel \u89c4\u5219\u5bf9\u9f50\uff09","text":"<ul> <li>\u6162\u8c03\u7528\u9608\u503c <code>\u03c4 = min(1000ms, 1.2 \u00d7 \u5f53\u524d\u57fa\u7ebf P95)</code> </li> <li>\u7edf\u8ba1\u7a97\u53e3 10s\uff1b\u6700\u5c0f\u6837\u672c\u6570 \u2265 20\uff1b\u6162\u8c03\u5360\u6bd4 \u2265 50% \u2192 \u6253\u5f00\u7194\u65ad  </li> <li>Open 30s\uff1bHalf-Open \u63a2\u6d4b 5\u201310 \u8bf7\u6c42  </li> <li>\u5165\u53e3\u9650\u6d41\uff1a\u4f18\u5148\u5728 Gateway \u5bf9 <code>/external/gs/**</code> \u505a API \u7ec4\u9650\u6d41\uff08\u547d\u4e2d\u7edf\u4e00 429\uff09</li> </ul>"},{"location":"overview/#4-slo","title":"4) \u544a\u8b66\u4e0e\u5904\u7f6e\uff08\u628a SLO \u53d8\u6210\u64cd\u4f5c\uff09","text":"<ul> <li>\u9519\u8bef\u9884\u7b97\uff1a\u76ee\u6807 99.9% \u21d2 \u6708\u5ea6\u9884\u7b97 0.1%  </li> <li>\u71c3\u5c3d\u544a\u8b66\uff08\u4efb\u4e00\u6ee1\u8db3\u5373\u544a\u8b66\uff09\uff1a  </li> <li>1 \u5c0f\u65f6\u6d88\u8017 &gt; 10% \u9884\u7b97 \u21d2 P1\uff0c\u81ea\u52a8\u5207 \u964d\u7ea7/\u9650\u6d41\u56de\u9000\u7ec4 </li> <li>6 \u5c0f\u65f6\u6d88\u8017 &gt; 20% \u9884\u7b97 \u21d2 P1 \u5347\u7ea7\uff0c\u7070\u5ea6\u56de\u6eda\u6216\u6458\u9664\u4e0d\u5065\u5eb7\u5b9e\u4f8b </li> <li>\u53d1\u5e03\u7ba1\u63a7\uff1a\u53d1\u5e03\u540e 15 \u5206\u949f\u5185\u82e5 P95/P99 \u6076\u5316\u4e14\u9519\u8bef\u7387\u8d85\u9608 \u21d2 \u6682\u505c\u7070\u5ea6/\u56de\u6eda  </li> <li>\u6d41\u91cf\u6cbb\u7406\uff1aGateway \u9650\u6d41\u914d\u989d\u6309 5%\u219230%\u219250%\u2192100% \u68af\u5ea6\u653e\u5927\uff1b\u6301\u7eed\u6076\u5316\u65f6\u5206\u7ea7\u7194\u65ad\u5e76\u63d0\u4f9b\u7a33\u5b9a\u515c\u5e95</li> </ul>"},{"location":"overview/#5","title":"5) \u89c2\u6d4b\u4e0e\u6570\u636e\u6765\u6e90","text":"<ul> <li>SkyWalking\uff1aTrace/\u6307\u6807\uff08\u8bf7\u6c42\u6570\u3001\u9519\u8bef\u3001\u5206\u4f4d\u5ef6\u8fdf\uff09  </li> <li>\u7edf\u4e00\u65e5\u5fd7\uff1a\u6309 <code>traceId</code> \u4e32\u8054\uff0c\u7ed3\u6784\u5316\u8bb0\u5f55 429/503/\u8d85\u65f6\u5b57\u6bb5  </li> <li>Nacos\uff1a<code>*-gw-api-defs</code> / <code>*-gw-flow-rules</code> \u5206\u7ec4\uff0c\u652f\u6301\u7070\u5ea6\u4e0e\u4e00\u952e\u56de\u6eda</li> </ul>"},{"location":"overview/#6","title":"6) \u4f8b\u5916","text":"<ul> <li>\u5f02\u6b65\u4efb\u52a1\u7684\u6267\u884c\u7ed3\u679c\u4e0d\u8ba1\u5165\u201c\u53d7\u7406\u6210\u529f\u7387\u201d\uff0c\u53e6\u7acb\u201c\u4efb\u52a1\u6267\u884c SLA\u201d  </li> <li>\u7f51\u5916\u7f51\u7edc\u95ee\u9898\u5728\u7edf\u8ba1\u4e2d\u6807\u6ce8\u201c\u5916\u90e8\u539f\u56e0\u201d\u7ef4\u5ea6\u7528\u4e8e\u590d\u76d8\uff0c\u4e0d\u4ece\u5de5\u7a0b\u4fa7\u5f3a\u884c\u5254\u9664</li> </ul>"},{"location":"stability-sentinel/","title":"\u7a33\u5b9a\u6027\uff08Sentinel\uff09","text":"<p>\u76ee\u6807\uff1a\u9650\u6d41\uff08Flow limiting\uff09\u3001\u7194\u65ad/\u964d\u7ea7\uff08Circuit breaking/Degrade\uff09\uff1b \u7b56\u7565\u96c6\u4e2d\u6258\u7ba1\uff0c\u7ecf\u7531 Nacos \u4e0b\u53d1\uff1b\u8bfb\u63a5\u53e3\u77ed TTL \u7f13\u5b58\uff0c\u5199\u63a5\u53e3\u5feb\u901f\u5931\u8d25\uff08429/503\uff09\uff0c\u907f\u514d\u7ea7\u8054\u3002</p>"},{"location":"stability-sentinel/#1","title":"1.\u89c4\u5219\u96c6\u4e2d\u6cbb\u7406","text":"<ul> <li>\u89c4\u5219\u6765\u6e90\uff1aNacos \u914d\u7f6e\u4e2d\u5fc3\u7edf\u4e00\u4e0b\u53d1\uff0c\u8d44\u6e90\u540d\u4e0e\u4ee3\u7801\u4e00\u81f4\uff0c\u4fbf\u4e8e\u6392\u67e5\u4e0e\u56de\u6eda\u3002  </li> <li>\u5efa\u8bae\uff1a\u8bfb\u63a5\u53e3\u8bbe\u7f6e\u77ed TTL \u7684\u7f13\u5b58\u515c\u5e95\uff1b\u5199\u63a5\u53e3\u8bbe\u7f6e\u5feb\u901f\u5931\u8d25\u9608\u503c\uff0c\u7f29\u77ed\u6062\u590d\u65f6\u95f4\u3002</li> </ul>"},{"location":"stability-sentinel/#2","title":"2.\u9650\u6d41: \u89e6\u53d1\u65e5\u5fd7","text":"<ul> <li>\u89e6\u53d1 <code>FlowException</code> \u65f6\u6253\u5370\u660e\u786e\u7684 blocked \u8bb0\u5f55\uff0c\u5305\u542b \u8d44\u6e90\u540d / \u89e6\u53d1\u6765\u6e90 \u7b49\u4fe1\u606f\u3002  </li> <li>\u7f51\u5173/\u6838\u5fc3\u670d\u52a1\u53ef\u6839\u636e\u8d44\u6e90\u540d\u505a\u4e0d\u540c fallback\u3002</li> </ul>"},{"location":"stability-sentinel/#3","title":"3.\u9650\u6d41: \u6d4b\u8bd5\u7ed3\u679c","text":"<ul> <li>\u89c2\u5bdf\u901a\u8fc7/\u62d2\u7edd QPS\u3001\u5e76\u53d1\u6570\u3001\u5e73\u5747 RT\u3001\u5206\u949f\u901a\u8fc7/\u62d2\u7edd\u7b49\u6307\u6807\uff1b  </li> <li>\u9a8c\u8bc1\u538b\u6d4b\u65b9\u5f0f\u3001\u89e6\u53d1\u9608\u503c\u662f\u5426\u7b26\u5408\u9884\u671f\uff08\u4e0d\u62d6\u57ae\u4e3b\u6d41\u7a0b\uff09\u3002</li> </ul>"},{"location":"stability-sentinel/#4","title":"4.\u7194\u65ad/\u964d\u7ea7: \u89e6\u53d1\u65e5\u5fd7","text":"<ul> <li>\u89e6\u53d1 <code>DegradeException</code> \u6216\u6267\u884c fallback \u65f6\u8bb0\u5f55\u964d\u7ea7\u539f\u56e0\uff0c\u5feb\u901f\u5b9a\u4f4d\u5f02\u5e38\u6765\u6e90\u3002  </li> <li>\u5efa\u8bae\uff1a\u56de\u6eda/\u91cd\u8bd5\u8def\u5f84\u4e0e\u4e3b\u6d41\u7a0b\u9694\u79bb\uff0c\u907f\u514d\u96ea\u5d29\u6548\u5e94\u3002</li> </ul>"},{"location":"stability-sentinel/#5","title":"5.\u7194\u65ad: \u6d4b\u8bd5\u7ed3\u679c","text":"<ul> <li> <p>\u5bf9\u5173\u952e\u8d44\u6e90\u89c2\u5bdf\u964d\u7ea7\u6b21\u6570/\u65f6\u957f\u3001\u5e73\u5747 RT \u4e0e\u6210\u529f\u7387\uff0c\u786e\u8ba4\u201c\u4e0d\u6269\u6563\u3001\u4e0d\u653e\u5927\u201d\u3002  </p> </li> <li> <p>\u7ea6\u5b9a\uff1a\u63a5\u53e3\u5bf9\u63a5/\u4efb\u52a1\u4e0b\u53d1\u7c7b\u7684 Fallback/BlockHandler \u805a\u5408\u5728 Service \u5c42\uff08Controller \u53d8\u8584\uff09\uff1b  </p> </li> <li>\u8d44\u6e90\u540d\u7edf\u4e00\u89c4\u8303\uff08\u4e0e\u89c4\u5219\u4e00\u81f4\uff09\uff0c\u65e5\u5fd7\u6ce8\u5165 <code>traceId</code>\uff0c\u5b9e\u73b0 trace \u2194 log \u4e92\u67e5\u3002</li> </ul>"}]}